<div class="resourceGroup-ctn">
  <div class="resourceGroup-title">
    <h2>{{ this.name.replace('projects/', '') }}</h2>
    <svg viewBox="-5 -5 215 215">
      <path d="M0,105C0,47.103,47.103,0,105,0c23.383,0,45.515,7.523,64.004,21.756l-24.4,31.696C133.172,44.652,119.477,40,105,40
                c-35.842,0-65,29.159-65,65s28.159,65,65,65c28.867,0,53.398-18.913,61.852-45H105V85h105v20c0,57.896-47.103,105-105,105
                S0,162.897,0,105z" />
    </svg>
  </div>

  <div class="resourceGroup-viz">
    <div *ngIf="(this.isScanRunning$(this.name) | async) === false; else scanning">
      <div class="button" (click)="$event.stopPropagation(); this.collectAndScan([this.name])">
        <svg style="width: 24px; height: 24px" viewBox="0 0 24 24">
          <path fill="currentColor"
            d="M17 22V20H20V17H22V20.5C22 20.89 21.84 21.24 21.54 21.54C21.24 21.84 20.89 22 20.5 22H17M7 22H3.5C3.11 22 2.76 21.84 2.46 21.54C2.16 21.24 2 20.89 2 20.5V17H4V20H7V22M17 2H20.5C20.89 2 21.24 2.16 21.54 2.46C21.84 2.76 22 3.11 22 3.5V7H20V4H17V2M7 2V4H4V7H2V3.5C2 3.11 2.16 2.76 2.46 2.46C2.76 2.16 3.11 2 3.5 2H7M10.5 6C13 6 15 8 15 10.5C15 11.38 14.75 12.2 14.31 12.9L17.57 16.16L16.16 17.57L12.9 14.31C12.2 14.75 11.38 15 10.5 15C8 15 6 13 6 10.5C6 8 8 6 10.5 6M10.5 8C9.12 8 8 9.12 8 10.5C8 11.88 9.12 13 10.5 13C11.88 13 13 11.88 13 10.5C13 9.12 11.88 8 10.5 8Z" />
        </svg>
        <h2>Scan</h2>
      </div>
    </div>
    <ng-template #scanning>
      <div class="button">
        <span class="scanning">Scanning</span>
        <mat-progress-bar mode="indeterminate" class="scanning-progress"></mat-progress-bar>
      </div>
    </ng-template>
  </div>

  <div class="resourceGroup-info" [ngStyle]="
      this.observationCount > 0
        ? { 'background-color': '#da1e28', color: 'white' }
        : { 'background-color': '#24a148', color: 'white' }
    ">
    <p>{{ this.observationCount }} observations</p>
    <div class="date">
      <p>{{ this.lastScanDate.slice(12) }}</p>
      <p>{{ this.lastScanDate.slice(0, 12) }}</p>
    </div>
  </div>
</div>
